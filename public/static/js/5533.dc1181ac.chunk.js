"use strict";(self.webpackChunk_minimal_material_kit_react=self.webpackChunk_minimal_material_kit_react||[]).push([[5533],{95242:function(e,n,l){l.d(n,{E:function(){return i},T:function(){return a}});var i=[{id:"name",label:"Name",align:"left"},{id:"land",label:"Land (acres)",align:"left"},{id:"village",label:"Village",align:"left"},{id:"language",label:"Language",align:"left"},{id:"pits",label:"Total pit's",align:"left"},{id:"action",label:"Action",align:"left"}],a=[{id:"photo",label:"Photo",align:"left"},{id:"name ",label:"Name",align:"left"},{id:"level ",label:"Level",align:"left"},{id:"plot ",label:"Plot Size",align:"left"},{id:"stage ",label:"Stage Name",align:"left"},{id:"last update",label:"Last update",align:"left"}]},25533:function(e,n,l){l.r(n),l.d(n,{default:function(){return I}});var i=l(1413),a=l(29439),t=l(72791),o=l(16871),r=l(91614),d=l(36151),s=l(57621),u=l(39281),c=l(79836),f=l(53382),v=l(68870),h=l(26812),g=l(7055),m=l(23744),x=l(77762),Z=l(53451),j=l(32939),p=l(97145),b=l(54737),S=l(50765),P=l(35285),w=l(9440),C=l(34965),N=l(35855),k=l(53994),D=l(20890),L=l(23786),_=l(39778),E=l(80184);function F(e){var n,l=e.row,i=e.onhandleEditDetails,o=e.onhandleDeleteRow,r=e.handleShowDetails,d=(0,t.useState)(null),s=(0,a.Z)(d,2),u=s[0],c=s[1],f=function(){c(null)},v=l||{},h=v.name,g=v.id,m=v.land,x=v.village,Z=v.language,p=v.totalPits,b=v.villageId;return console.log("row",b),(0,E.jsxs)(N.Z,{hover:!0,children:[(0,E.jsx)(k.Z,{sx:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:function(){return r&&r(g)},children:(0,E.jsx)(D.Z,{variant:"subtitle2",noWrap:!0,sx:{cursor:"default"},children:h})}),(0,E.jsx)(k.Z,{children:(0,E.jsx)(D.Z,{variant:"subtitle2",noWrap:!0,sx:{cursor:"default"},children:m||"--"})}),(0,E.jsx)(k.Z,{children:(0,E.jsx)(D.Z,{variant:"subtitle2",noWrap:!0,sx:{cursor:"default"},children:x?null===x||void 0===x?void 0:x.name:"--"})}),(0,E.jsx)(k.Z,{sx:{cursor:"default"},children:(0,E.jsx)(D.Z,{variant:"subtitle2",noWrap:!0,sx:{textTransform:"capitalize"},children:Z&&(null===(n=_.s.find((function(e){return(null===e||void 0===e?void 0:e.id)===Z})))||void 0===n?void 0:n.label)||"--"})}),(0,E.jsx)(k.Z,{sx:{cursor:"default"},children:(0,E.jsx)(D.Z,{variant:"subtitle2",noWrap:!0,children:p||"--"})}),(0,E.jsx)(k.Z,{align:"left",children:(0,E.jsx)(S.V7,{open:u,onOpen:function(e){c(e.currentTarget)},onClose:f,actions:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(L.Z,{onClick:function(){"111111111111111111111111"!==b&&(i&&i(g),f())},children:[(0,E.jsx)(j.Z,{icon:"eva:edit-fill"}),"Edit"]}),(0,E.jsxs)(L.Z,{onClick:function(){o&&o(g,h),f()},sx:{color:"error.main"},children:[(0,E.jsx)(j.Z,{icon:"eva:trash-2-outline"}),"Delete"]})]})})})]})}var M=l(17449),T=l(86951),W=l(95242),B=l(76534),y=l(90163);function I(){var e=(0,x.ZP)(),n=(e.dense,e.page),l=e.order,N=e.orderBy,k=e.rowsPerPage,D=e.selected,L=e.onChangePage,_=e.onChangeRowsPerPage,I=e.setPage,V=(0,o.s0)(),R=(0,w.I0)(),z=(0,T.Ds)().enqueueSnackbar,A=(0,t.useState)({name:"",village:"",openModal:!1,id:"",farmerName:""}),G=(0,a.Z)(A,2),O=G[0],q=G[1],K=(0,m.Z)("all").currentTab;(0,t.useEffect)((function(){(0,C.xS)()}),[]);var H=(0,w.v9)((function(e){return e.farmer})),J=H.farmerListData,Q=!(null!==J&&void 0!==J&&J.length)&&!(null===O||void 0===O||!O.name)||!(null!==J&&void 0!==J&&J.length)&&!(null===O||void 0===O||!O.village)||!(null!==J&&void 0!==J&&J.length)&&!!K,U=function(e){R((0,C.Go)(null)),R((0,M.xm)(null)),V(g.vB.farmers.edit(e))},X=function(e){V(g.vB.farmers.details(e))},Y=function(e,n){q((function(l){return(0,i.Z)((0,i.Z)({},l),{},{openModal:!0,id:e,farmerName:n})}))};return(0,E.jsxs)(Z.Z,{title:"Farmer List",children:[(0,E.jsxs)(r.Z,{maxWidth:"xl",children:[(0,E.jsx)(b.Z,{heading:"Farmer List",links:[{href:g.vB.farmers.list}],action:(0,E.jsx)(d.Z,{variant:"contained",startIcon:(0,E.jsx)(j.Z,{icon:"eva:plus-fill"}),onClick:function(){R((0,C.Go)(null)),R((0,M.xm)(null)),V(g.vB.farmers.new)},children:"Add Farmer"})}),(0,E.jsxs)(s.Z,{children:[(0,E.jsx)(P.N,{filterName:null===O||void 0===O?void 0:O.name,filterVillage:null===O||void 0===O?void 0:O.village,onFilterName:function(e){q((function(n){return(0,i.Z)((0,i.Z)({},n),{},{name:e})})),function(e){var n;1===(null===O||void 0===O||null===(n=O.name)||void 0===n?void 0:n.length)&&""===e&&(0,C.xS)()}(e)},onFilterVillage:function(e){q((function(n){return(0,i.Z)((0,i.Z)({},n),{},{village:e})}))},onSearch:function(){I(0),(0,C.xS)(null===O||void 0===O?void 0:O.name,null===O||void 0===O?void 0:O.village)},placeholderText:"Search by farmer name",placeholderTextSecond:"Search by village name"}),(0,E.jsx)(p.Z,{children:(0,E.jsx)(u.Z,{sx:{minWidth:800,position:"relative"},children:(0,E.jsxs)(c.Z,{size:"medium",children:[(0,E.jsx)(S.K,{order:l,orderBy:N,headLabel:W.E,rowCount:null===J||void 0===J?void 0:J.length,numSelected:D.length}),(0,E.jsxs)(f.Z,{children:[null!==J&&void 0!==J&&J.length?J.slice(n*k,n*k+k).map((function(e){return(0,E.jsx)(F,{row:e,onhandleEditDetails:U,onhandleDeleteRow:Y,handleShowDetails:X},e.id)})):null,(0,E.jsx)(S.et,{isNotFound:Q})]})]})})}),(0,E.jsx)(v.Z,{sx:{position:"relative"},children:(0,E.jsx)(h.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:null!==J&&void 0!==J&&J.length?J.length:0,rowsPerPage:k,page:n,onPageChange:L,onRowsPerPageChange:_})})]})]}),(0,E.jsx)(B.Z,{openModal:O.openModal,handleClose:function(){q((function(e){return(0,i.Z)((0,i.Z)({},e),{},{openModal:!1,id:"",farmerName:""})}))},title:"Delete Confirmation!",handleSubmit:function(){R((0,C.EV)(null===O||void 0===O?void 0:O.id)).then((function(e){var n,l;200===(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.statusCode)?(z(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.message,{variant:"success"}),(0,C.xS)(),q((function(e){return(0,i.Z)((0,i.Z)({},e),{},{openModal:!1,id:"",farmerName:""})}))):((0,C.xS)(),q((function(e){return(0,i.Z)((0,i.Z)({},e),{},{openModal:!1,id:"",farmerName:""})})))})).catch((function(e){console.log("error")}))},children:(0,E.jsx)(y.I,{userName:null===O||void 0===O?void 0:O.farmerName})})]})}}}]);
//# sourceMappingURL=5533.dc1181ac.chunk.js.map