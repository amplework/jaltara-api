"use strict";(self.webpackChunk_minimal_material_kit_react=self.webpackChunk_minimal_material_kit_react||[]).push([[8374],{47951:function(e,n,l){l.d(n,{z:function(){return i},_:function(){return t}});var i=[{id:"photo",label:"Photo",align:"left"},{id:"update by sevak",label:"Update by sevak",align:"left"},{id:"last update",label:"Last update",align:"left"}],t=[{id:"village",label:"Village name",align:"left"},{id:"level",label:"Level",align:"left"},{id:"update by sevak",label:"Update by sevak",align:"left"},{id:"last update",label:"Last update",align:"left"},{id:"action",label:"Action",align:"left"}]},88374:function(e,n,l){l.r(n),l.d(n,{default:function(){return z}});var i=l(1413),t=l(29439),a=l(72791),o=l(16871),r=l(91614),d=l(57621),u=l(39281),s=l(79836),c=l(53382),v=l(68870),h=l(26812),f=l(7055),g=l(23744),x=l(77762),p=l(53451),Z=l(97145),m=l(54737),j=l(50765),b=l(35285),w=l(14384),k=l(9440),P=l(13967),C=l(35855),S=l(53994),D=l(20890),M=l(23786),y=l(32939),_=l(34132),B=l(80184);function W(e){var n,l,i,o,r,d=e.row,u=e.handleShowDetails,s=e.onhandleDeleteRow,c=((0,P.Z)(),(0,a.useState)(null)),v=(0,t.Z)(c,2),h=v[0],f=v[1],g=function(){f(null)},x=d||{},p=x.village,Z=x.level,m=x.stages,b=x.id;return(0,B.jsxs)(C.Z,{hover:!0,sx:{cursor:"default"},children:[(0,B.jsx)(S.Z,{onClick:function(){return u&&u(b)},sx:{cursor:"pointer"},children:(0,B.jsx)(D.Z,{variant:"subtitle2",noWrap:!0,sx:{textTransform:"capitalize"},children:null===p||void 0===p?void 0:p.name})}),(0,B.jsx)(S.Z,{children:(0,B.jsx)(D.Z,{variant:"subtitle2",noWrap:!0,children:Z})}),(0,B.jsx)(S.Z,{children:(0,B.jsx)(D.Z,{variant:"subtitle2",noWrap:!0,sx:{textTransform:"capitalize"},children:null!==m&&void 0!==m&&null!==(n=m[0])&&void 0!==n&&null!==(l=n.updatedbySevek)&&void 0!==l&&l.name?null===m||void 0===m||null===(i=m[0])||void 0===i||null===(o=i.updatedbySevek)||void 0===o?void 0:o.name:"--"})}),(0,B.jsx)(S.Z,{children:(0,B.jsx)(D.Z,{variant:"subtitle2",noWrap:!0,children:(0,_.w)(null===m||void 0===m||null===(r=m[0])||void 0===r?void 0:r.created)})}),(0,B.jsx)(S.Z,{align:"left",children:(0,B.jsx)(j.V7,{open:h,onOpen:function(e){f(e.currentTarget)},onClose:g,actions:(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(M.Z,{onClick:function(){s&&s(b),g()},sx:{color:"error.main"},children:[(0,B.jsx)(y.Z,{icon:"eva:trash-2-outline"}),"Delete"]})})})})]})}var Y=l(86951),L=l(47951),T=l(76534),N=l(90163);function z(){var e=(0,x.ZP)(),n=e.page,l=e.order,P=e.orderBy,C=e.rowsPerPage,S=e.setPage,D=e.onChangePage,M=e.onChangeRowsPerPage,y=(0,o.s0)(),_=(0,Y.Ds)().enqueueSnackbar,z=(0,k.I0)(),F=(0,a.useState)({name:"",village:"",openModal:!1,id:""}),G=(0,t.Z)(F,2),R=G[0],V=G[1],I=(0,g.Z)("all").currentTab;(0,a.useEffect)((function(){(0,w.BG)()}),[]);var O=(0,k.v9)((function(e){return e.wells})),U=O.wellsListData,q=function(e){y(f.vB.wells.details(e))},A=!(null!==U&&void 0!==U&&U.length)&&!(null===R||void 0===R||!R.name)||!(null!==U&&void 0!==U&&U.length)&&!(null===R||void 0===R||!R.village)||!(null!==U&&void 0!==U&&U.length)&&!!I,E=function(e){V((function(n){return(0,i.Z)((0,i.Z)({},n),{},{openModal:!0,id:e})}))};return(0,B.jsxs)(p.Z,{title:"Well: List",children:[(0,B.jsxs)(r.Z,{maxWidth:"xl",children:[(0,B.jsx)(m.Z,{heading:"Well List",links:[{href:f.vB.wells.list}]}),(0,B.jsxs)(d.Z,{children:[(0,B.jsx)(b.N,{filterName:null===R||void 0===R?void 0:R.name,filterVillage:null===R||void 0===R?void 0:R.village,onFilterVillage:function(e){V((function(n){return(0,i.Z)((0,i.Z)({},n),{},{village:e})}))},onFilterName:function(e){V((function(n){return(0,i.Z)((0,i.Z)({},n),{},{name:e})}))},onSearch:function(){S(0),(0,w.BG)(null===R||void 0===R?void 0:R.name,null===R||void 0===R?void 0:R.village)},placeholderText:"Search by sevak name",placeholderTextSecond:"Search by village name",pits:!1}),(0,B.jsx)(Z.Z,{children:(0,B.jsx)(u.Z,{sx:{minWidth:800,position:"relative"},children:(0,B.jsxs)(s.Z,{size:"medium",children:[(0,B.jsx)(j.K,{order:l,orderBy:P,headLabel:L._,rowCount:null===U||void 0===U?void 0:U.length}),(0,B.jsxs)(c.Z,{children:[null!==U&&void 0!==U&&U.length?U.slice(n*C,n*C+C).map((function(e){return(0,B.jsx)(W,{row:e,handleShowDetails:q,onhandleDeleteRow:E},e.id)})):null,(0,B.jsx)(j.et,{isNotFound:A})]})]})})}),(0,B.jsx)(v.Z,{sx:{position:"relative"},children:(0,B.jsx)(h.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:null!==U&&void 0!==U&&U.length?U.length:0,rowsPerPage:C,page:n,onPageChange:D,onRowsPerPageChange:M})})]})]}),(0,B.jsx)(T.Z,{openModal:R.openModal,handleClose:function(){V((function(e){return(0,i.Z)((0,i.Z)({},e),{},{openModal:!1,id:""})}))},title:"Delete Confirmation!",handleSubmit:function(){z((0,w.S4)(null===R||void 0===R?void 0:R.id)).then((function(e){var n,l;200===(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.statusCode)?(_(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.message,{variant:"success"}),V((function(e){return(0,i.Z)((0,i.Z)({},e),{},{openModal:!1,id:""})})),(0,w.BG)()):(V((function(e){return(0,i.Z)((0,i.Z)({},e),{},{openModal:!1,id:""})})),(0,w.BG)())})).catch((function(){console.log("error")}))},children:(0,B.jsx)(N.I,{userName:"village"})})]})}},34132:function(e,n,l){l.d(n,{w:function(){return a},r:function(){return o}});var i=l(72426),t=l.n(i);function a(e){return t()(e).format("MM/DD/YYYY")}function o(e){return t()(e).format("MM/DD/YYYY hh:mm a")}}}]);
//# sourceMappingURL=8374.b44d9845.chunk.js.map