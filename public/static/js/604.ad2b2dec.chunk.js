"use strict";(self.webpackChunk_minimal_material_kit_react=self.webpackChunk_minimal_material_kit_react||[]).push([[604],{65042:function(e,n,i){i.d(n,{e:function(){return l},Y:function(){return t}});var l=[{id:"name",label:"Name",align:"left"},{id:"equipment",label:"Number Plate",align:"left"},{id:"status",label:"Status",align:"left"},{id:"action",label:"Action",align:"left"}],t=[{id:"startTime ",label:"Start Date & Time",align:"left"},{id:"endTime ",label:"End Date & Time",align:"left"},{id:"timeRecord",label:"Time Record",align:"left"}]},40604:function(e,n,i){i.r(n),i.d(n,{default:function(){return z}});var l=i(1413),t=i(29439),a=i(72791),o=i(16871),r=i(91614),u=i(36151),s=i(57621),d=i(39281),c=i(79836),m=i(53382),h=i(68870),v=i(26812),f=i(7055),x=i(23744),p=i(77762),g=i(54737),Z=i(9440),j=i(14703),b=i(32939),P=i(53451),q=i(35285),N=i(97145),C=i(50765),w=i(13967),S=i(35855),k=i(53994),T=i(20890),D=i(23786),_=i(80184);function E(e){var n=e.row,i=e.onhandleEditDetails,l=e.onhandleDeleteRow,o=e.handleShowLogs,r=((0,w.Z)(),(0,a.useState)(null)),u=(0,t.Z)(r,2),s=u[0],d=u[1],c=function(){d(null)},m=n||{},h=m.name,v=m.equipment,f=m.status,x=m.id;return(0,_.jsxs)(S.Z,{hover:!0,children:[(0,_.jsx)(k.Z,{sx:{cursor:"pointer"},onClick:function(){return o&&o(x)},children:(0,_.jsx)(T.Z,{variant:"subtitle2",noWrap:!0,sx:{textTransform:"capitalize"},children:h||"N/A"})}),(0,_.jsx)(k.Z,{children:(0,_.jsx)(T.Z,{variant:"subtitle2",noWrap:!0,sx:{textTransform:"capitalize"},children:v||"N/A"})}),(0,_.jsx)(k.Z,{children:(0,_.jsx)(T.Z,{variant:"subtitle2",noWrap:!0,sx:{textTransform:"capitalize"},children:f||"N/A"})}),(0,_.jsx)(k.Z,{align:"left",children:(0,_.jsx)(C.V7,{open:s,onOpen:function(e){d(e.currentTarget)},onClose:c,actions:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(D.Z,{onClick:function(){i&&i(x),c()},children:[(0,_.jsx)(b.Z,{icon:"eva:edit-fill"}),"Edit"]}),(0,_.jsxs)(D.Z,{onClick:function(){l&&l(x,h),c()},sx:{color:"error.main"},children:[(0,_.jsx)(b.Z,{icon:"eva:trash-2-outline"}),"Delete"]})]})})})]})}var M=i(86951),B=i(65042),L=i(76534),R=i(90163);function z(){var e=(0,p.ZP)(),n=e.page,i=e.order,w=e.orderBy,S=e.rowsPerPage,k=e.selected,T=e.onChangePage,D=e.onChangeRowsPerPage,z=e.setPage,A=(0,o.s0)(),W=(0,Z.I0)(),y=(0,M.Ds)().enqueueSnackbar,F=(0,a.useState)({name:"",village:"",openModal:!1,id:"",equipmentName:""}),I=(0,t.Z)(F,2),V=I[0],O=I[1],K=(0,x.Z)("all").currentTab,Y=(0,Z.v9)((function(e){return e.equipments})),G=Y.equipmentListData;(0,a.useEffect)((function(){(0,j.xP)()}),[]);var H=!(null!==G&&void 0!==G&&G.length)&&!(null===V||void 0===V||!V.name)||!(null!==G&&void 0!==G&&G.length)&&!(null===V||void 0===V||!V.village)||!(null!==G&&void 0!==G&&G.length)&&!!K,J=function(e){W((0,j.e8)(null)),A(f.vB.equipments.edit(e))},Q=function(e,n){O((function(i){return(0,l.Z)((0,l.Z)({},i),{},{openModal:!0,id:e,equipmentName:n})}))},U=function(e){A(f.vB.equipments.logs(e))};return(0,_.jsxs)(P.Z,{title:"equipments List",children:[(0,_.jsxs)(r.Z,{maxWidth:"xl",children:[(0,_.jsx)(g.Z,{heading:"Equipments List",links:[{href:f.vB.equipments.list}],action:(0,_.jsx)(u.Z,{variant:"contained",startIcon:(0,_.jsx)(b.Z,{icon:"eva:plus-fill"}),onClick:function(){W((0,j.e8)(null)),A(f.vB.equipments.create)},children:"Add Equipment"})}),(0,_.jsxs)(s.Z,{children:[(0,_.jsx)(q.N,{filterName:null===V||void 0===V?void 0:V.name,filterVillage:null===V||void 0===V?void 0:V.village,onFilterName:function(e){O((function(n){return(0,l.Z)((0,l.Z)({},n),{},{name:e})}))},onFilterVillage:function(e){O((function(n){return(0,l.Z)((0,l.Z)({},n),{},{village:e})}))},onSearch:function(){z(0),(0,j.xP)(null===V||void 0===V?void 0:V.name,null===V||void 0===V?void 0:V.village)},placeholderText:"Search by name",placeholderTextSecond:"Search by number plate"}),(0,_.jsx)(N.Z,{children:(0,_.jsx)(d.Z,{sx:{minWidth:800,position:"relative"},children:(0,_.jsxs)(c.Z,{size:"medium",children:[(0,_.jsx)(C.K,{order:i,orderBy:w,headLabel:B.e,rowCount:null===G||void 0===G?void 0:G.length,numSelected:k.length}),(0,_.jsxs)(m.Z,{children:[null!==G&&void 0!==G&&G.length?G.slice(n*S,n*S+S).map((function(e){return(0,_.jsx)(E,{row:e,onhandleEditDetails:J,onhandleDeleteRow:Q,handleShowLogs:U},e.id)})):null,(0,_.jsx)(C.et,{isNotFound:H})]})]})})}),(0,_.jsx)(h.Z,{sx:{position:"relative"},children:(0,_.jsx)(v.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:null!==G&&void 0!==G&&G.length?G.length:0,rowsPerPage:S,page:n,onPageChange:T,onRowsPerPageChange:D})})]})]}),(0,_.jsx)(L.Z,{openModal:V.openModal,handleClose:function(){O((function(e){return(0,l.Z)((0,l.Z)({},e),{},{openModal:!1,id:"",equipmentName:""})}))},title:"Delete Confirmation!",handleSubmit:function(){W((0,j.zS)(null===V||void 0===V?void 0:V.id)).then((function(e){var n,i;200===(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.statusCode)?(y(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.message,{variant:"success"}),(0,j.xP)(),O((function(e){return(0,l.Z)((0,l.Z)({},e),{},{openModal:!1,id:"",equipmentName:""})}))):((0,j.xP)(),O((function(e){return(0,l.Z)((0,l.Z)({},e),{},{openModal:!1,id:"",equipmentName:""})})))})).catch((function(){console.log("error")}))},children:(0,_.jsx)(R.I,{userName:null===V||void 0===V?void 0:V.equipmentName})})]})}}}]);
//# sourceMappingURL=604.ad2b2dec.chunk.js.map