"use strict";(self.webpackChunk_minimal_material_kit_react=self.webpackChunk_minimal_material_kit_react||[]).push([[6954],{26954:function(e,n,l){l.r(n),l.d(n,{default:function(){return W}});var i=l(1413),o=l(29439),a=l(72791),t=l(16871),r=l(91614),d=l(36151),s=l(57621),u=l(39281),c=l(79836),v=l(53382),h=l(68870),f=l(26812),g=l(7055),m=l(23744),Z=l(77762),x=l(53451),p=l(32939),k=l(97145),j=l(54737),P=l(50765),S=l(35285),w=l(17449),C=l(9440),N=l(86951),b=l(39778),F=l(36657),_=l(76534),I=l(90163),M=l(80184);function W(){var e=(0,Z.ZP)(),n=e.page,l=e.order,W=e.orderBy,B=e.rowsPerPage,D=e.selected,R=e.onSelectRow,y=e.onChangePage,L=e.onChangeRowsPerPage,T=e.setPage,E=(0,t.s0)(),V=(0,N.Ds)().enqueueSnackbar,q=(0,a.useState)({name:"",village:"",openModal:!1,id:"",sevakName:""}),A=(0,o.Z)(q,2),K=A[0],O=A[1],z=(0,m.Z)("all").currentTab;(0,a.useEffect)((function(){(0,w.Fp)()}),[]);var G=(0,C.v9)((function(e){return e.user})),H=G.userListData,J=!(null!==H&&void 0!==H&&H.length)&&!(null===K||void 0===K||!K.name)||!(null!==H&&void 0!==H&&H.length)&&!(null===K||void 0===K||!K.village)||!(null!==H&&void 0!==H&&H.length)&&!!z,Q=function(e){(0,C.WI)((0,w.Z7)(null)),(0,C.WI)((0,w.xm)(null)),E(g.vB.sevak.edit(e))},U=function(e,n){O((function(l){return(0,i.Z)((0,i.Z)({},l),{},{openModal:!0,id:e,sevakName:n})}))},X=function(e){E(g.vB.sevak.details(e))};return(0,M.jsxs)(x.Z,{title:"Sevaks List",children:[(0,M.jsxs)(r.Z,{maxWidth:"xl",children:[(0,M.jsx)(j.Z,{heading:"Sevaks List",links:[{href:g.vB.sevak.root}],action:(0,M.jsx)(d.Z,{variant:"contained",startIcon:(0,M.jsx)(p.Z,{icon:"eva:plus-fill"}),onClick:function(){(0,C.WI)((0,w.Z7)(null)),(0,C.WI)((0,w.xm)(null)),E(g.vB.sevak.create)},children:"Add Sevak"})}),(0,M.jsxs)(s.Z,{children:[(0,M.jsx)(S.N,{filterName:null===K||void 0===K?void 0:K.name,filterVillage:null===K||void 0===K?void 0:K.village,onFilterName:function(e){O((function(n){return(0,i.Z)((0,i.Z)({},n),{},{name:e})})),function(e){var n;1===(null===K||void 0===K||null===(n=K.name)||void 0===n?void 0:n.length)&&""===e&&(0,w.Fp)()}(e)},onFilterVillage:function(e){O((function(n){return(0,i.Z)((0,i.Z)({},n),{},{village:e})}))},onSearch:function(){T(0),(0,w.Fp)(null===K||void 0===K?void 0:K.name,null===K||void 0===K?void 0:K.village)},placeholderText:"Search by sevak name",placeholderTextSecond:"Search by village name"}),(0,M.jsx)(k.Z,{children:(0,M.jsx)(u.Z,{sx:{minWidth:800,position:"relative"},children:(0,M.jsxs)(c.Z,{children:[(0,M.jsx)(P.K,{order:l,orderBy:W,headLabel:b.v,rowCount:null===H||void 0===H?void 0:H.length,numSelected:D.length}),(0,M.jsxs)(v.Z,{children:[null!==H&&void 0!==H&&H.length?H.slice(n*B,n*B+B).map((function(e){return(0,M.jsx)(F.Z,{row:e,selected:D.includes(e.id),onSelectRow:function(){return R(e.id)},onhandleEditDetails:Q,onhandleDeleteRow:U,handleShowDetails:X},e.id)})):null,(0,M.jsx)(P.et,{isNotFound:J})]})]})})}),(0,M.jsx)(h.Z,{sx:{position:"relative"},children:(0,M.jsx)(f.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:null!==H&&void 0!==H&&H.length?H.length:0,rowsPerPage:B,page:n,onPageChange:y,onRowsPerPageChange:L})})]})]}),(0,M.jsx)(_.Z,{openModal:K.openModal,handleClose:function(){O((function(e){return(0,i.Z)((0,i.Z)({},e),{},{openModal:!1,id:"",sevakName:""})}))},title:"Delete Confirmation!",handleSubmit:function(){(0,C.WI)((0,w.l8)(K.id)).then((function(e){var n,l;200===(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.statusCode)?(V(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.message,{variant:"success"}),(0,w.Fp)(),O((function(e){return(0,i.Z)((0,i.Z)({},e),{},{openModal:!1,id:"",sevakName:""})}))):((0,w.Fp)(),O((function(e){return(0,i.Z)((0,i.Z)({},e),{},{openModal:!1,id:"",sevakName:""})})))})).catch((function(e){console.log("error")}))},children:(0,M.jsx)(I.I,{userName:null===K||void 0===K?void 0:K.sevakName})})]})}}}]);
//# sourceMappingURL=6954.f91ec25e.chunk.js.map