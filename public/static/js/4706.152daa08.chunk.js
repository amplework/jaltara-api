"use strict";(self.webpackChunk_minimal_material_kit_react=self.webpackChunk_minimal_material_kit_react||[]).push([[4706],{54737:function(n,e,t){t.d(e,{Z:function(){return p}});var i=t(1413),a=t(45987),r=t(68870),o=t(20890),s=t(50533),l=t(43504),d=t(93517),u=t(80184),c=["links","activeLast"];function h(n){var e=n.links,t=n.activeLast,s=void 0!==t&&t,l=(0,a.Z)(n,c),h=e[e.length-1].name,m=e.map((function(n){return(0,u.jsx)(v,{link:n},n.name)})),p=e.map((function(n){return(0,u.jsx)("div",{children:n.name!==h?(0,u.jsx)(v,{link:n}):(0,u.jsx)(o.Z,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:h})},n.name)}));return(0,u.jsx)(d.Z,(0,i.Z)((0,i.Z)({separator:(0,u.jsx)(r.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})},l),{},{children:s?m:p}))}function v(n){var e=n.link,t=e.href,i=e.name,a=e.icon;return(0,u.jsxs)(s.Z,{variant:"body2",component:l.rU,to:t||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[a&&(0,u.jsx)(r.Z,{sx:{mr:1,"& svg":{width:20,height:20}},children:a}),i]},i)}var m=["links","action","heading","moreLink","sx"];function p(n){var e=n.links,t=n.action,l=n.heading,d=n.moreLink,c=void 0===d?[]:d,v=n.sx,p=(0,a.Z)(n,m);return(0,u.jsxs)(r.Z,{sx:(0,i.Z)({mb:5},v),children:[(0,u.jsxs)(r.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,u.jsxs)(r.Z,{sx:{flexGrow:1},children:[(0,u.jsx)(o.Z,{variant:"h4",gutterBottom:!0,children:l}),(0,u.jsx)(h,(0,i.Z)({links:e},p))]}),t&&(0,u.jsx)(r.Z,{sx:{flexShrink:0},children:t})]}),(0,u.jsx)(r.Z,{sx:{mt:2},children:"string"===typeof c?(0,u.jsx)(s.Z,{href:c,target:"_blank",rel:"noopener",variant:"body2",children:c}):c.map((function(n){return(0,u.jsx)(s.Z,{noWrap:!0,href:n,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:n},n)}))})]})}},24422:function(n,e,t){t.d(e,{VJ:function(){return o},M2:function(){return d},Ti:function(){return l}});var i=t(80184);var a=t(68870),r=t(47047);function o(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.Z,{sx:{mt:3,display:"flex",alignItems:"center"},children:(0,i.jsxs)(a.Z,{sx:{flexGrow:1,ml:2},children:[(0,i.jsx)(r.Z,{variant:"text",height:50}),(0,i.jsx)(r.Z,{variant:"text",height:50}),(0,i.jsx)(r.Z,{variant:"text",height:50}),(0,i.jsx)(r.Z,{variant:"text",height:50}),(0,i.jsx)(r.Z,{variant:"text",height:50})]})})})}var s=t(61889);function l(){return(0,i.jsx)(s.ZP,{container:!0,spacing:1,children:(0,i.jsxs)(s.ZP,{item:!0,xs:12,children:[(0,i.jsx)(r.Z,{variant:"text",height:80}),(0,i.jsx)(r.Z,{variant:"text",height:80}),(0,i.jsx)(r.Z,{variant:"text",height:80}),(0,i.jsx)(r.Z,{variant:"text",height:80}),(0,i.jsx)(r.Z,{variant:"text",height:80})]})})}function d(){return(0,i.jsx)(s.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,i.jsx)(a.Z,{sx:{display:"flex",mt:1.5,alignItems:"center"},children:(0,i.jsx)(r.Z,{variant:"text",sx:{width:"100%",height:60}})})})}},24706:function(n,e,t){t.r(e),t.d(e,{default:function(){return R}});var i=t(15861),a=t(64687),r=t.n(a),o=t(77942),s=t(16871),l=t(91614),d=t(61889),u=t(57621),c=t(63466),h=t(7055),v=t(53451),m=t(54737),p=t(86951),x=t(72791),f=t(61134),g=t(61265),Z=t(86446),b=t(68870),j=t(53767),w=t(59860),k=t(9440),y=t(32939),q=t(14703),C=t(24422),S=t(13265),I=t(484),_=t(80184),L=[{id:"active",label:"Active",name:"active"},{id:"inactive",label:"Inactive",name:"inactive"}];function R(){var n=(0,s.UO)().id,e=(0,s.s0)(),t=(0,p.Ds)().enqueueSnackbar,a=(0,k.I0)();(0,x.useEffect)((function(){n&&(a((0,q.Av)()),a((0,q.iD)(n)))}),[n,a]);var R=(0,k.v9)((function(n){return n.equipments})),P=R.equipmentDetails,A=R.isLoading,E=(0,x.useMemo)((function(){return{name:"",status:"",equipment:"",phone:"",photo:""}}),[P]),F=o.Ry().shape({name:o.Z_().required("Name is required").max(50,"Limit of 50 characters"),status:o.Z_().required("Status is required"),equipment:o.Z_().required("Number plate is required").max(50,"Limit of 50 characters"),phone:o.Z_().required("Phone number is required").matches(/^\d{10}$/,"Only numbers are allowed and limit is 10 digits"),photo:o.nK()});(0,x.useEffect)((function(){B("name",null===P||void 0===P?void 0:P.name),B("status",null===P||void 0===P?void 0:P.status),B("equipment",null===P||void 0===P?void 0:P.equipment),B("phone",null===P||void 0===P?void 0:P.phone),B("photo",null===P||void 0===P?void 0:P.photo)}),[P]);var M=(0,f.cI)({resolver:(0,g.X)(F),defaultValues:E}),N=(M.reset,M.watch),B=M.setValue,O=M.handleSubmit,T=M.formState.isSubmitting,W=(0,x.useCallback)((function(n){var e=n[0];if(e){var i=new FormData;i.append("image",e),a((0,S.I)(i)).then((function(n){200===(null===n||void 0===n?void 0:n.statusCode)&&(t(null===n||void 0===n?void 0:n.message,{variant:"success"}),B("photo",null===n||void 0===n?void 0:n.data))}))}}),[B]),D=function(){var o=(0,i.Z)(r().mark((function i(o){var s,l;return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:try{s={name:null===P||void 0===P?void 0:P.name,status:null===P||void 0===P?void 0:P.status,equipment:null===P||void 0===P?void 0:P.equipment,phone:null===P||void 0===P?void 0:P.phone},l={name:null===o||void 0===o?void 0:o.name,status:null===o||void 0===o?void 0:o.status,equipment:null===o||void 0===o?void 0:o.equipment,phone:null===o||void 0===o?void 0:o.phone,photo:null===o||void 0===o?void 0:o.photo},Object.keys(l).forEach((function(n){l[n]===s[n]&&delete l[n]})),n?a((0,q.uj)(l,n)).then((function(n){var i,a;200===(null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.statusCode)&&(t(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message,{variant:"success"}),e(h.vB.equipments.list))})):a((0,q.uj)(l)).then((function(n){var i,a,r;201===(null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.statusCode)?(t(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message,{variant:"success"}),e(h.vB.equipments.list)):t(null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message,{variant:"success"})}))}catch(r){console.error(r)}case 1:case"end":return i.stop()}}),i)})));return function(n){return o.apply(this,arguments)}}();return(0,_.jsx)(v.Z,{title:"Create Equipments",children:(0,_.jsxs)(l.Z,{maxWidth:"xl",children:[(0,_.jsx)(m.Z,{heading:n?"Edit equipment details":"Add equipment",links:[{name:"Equipment List",href:h.vB.sevak.list},{name:n?"Edit equipment details":"Add equipment"}]}),(0,_.jsx)(Z.RV,{methods:M,onSubmit:O(D),children:(0,_.jsx)(d.ZP,{container:!0,spacing:3,children:(0,_.jsxs)(d.ZP,{item:!0,xs:12,md:12,children:[(0,_.jsx)(u.Z,{sx:{mb:10,overflow:"visible",position:"relative",display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",padding:2,backgroundImage:"url(".concat(I,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},children:(0,_.jsx)(b.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:(0,_.jsx)(Z.Uo,{name:"photo",onDrop:W,sx:{zIndex:9,mt:5,position:"absolute",bottom:"-60px",width:"200px",height:"200px",borderRadius:"50%",objectFit:"cover",border:"2px solid #e0e0e0",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",cursor:"pointer"}})})}),A?(0,_.jsx)(u.Z,{sx:{p:3},children:(0,_.jsx)(C.Ti,{})}):(0,_.jsxs)(u.Z,{sx:{p:3},children:[(0,_.jsxs)(b.Z,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[(0,_.jsx)(Z.au,{name:"name",label:"Owner Name"}),(0,_.jsx)(Z.Wo,{name:"status",label:"Status",placeholder:"Status",value:N("status"),options:L}),(0,_.jsx)(Z.au,{name:"equipment",label:"Number Plate"}),(0,_.jsx)(Z.au,{name:"phone",label:"Phone Number",InputProps:{startAdornment:(0,_.jsx)(c.Z,{position:"start",children:"+91"})}})]}),(0,_.jsx)(j.Z,{alignItems:"flex-end",sx:{mt:3},children:(0,_.jsx)(w.Z,{type:"submit",variant:"contained",loading:T,disabled:(null===P||void 0===P?void 0:P.name)===N("name")&&(null===P||void 0===P?void 0:P.status)===N("status")&&(null===P||void 0===P?void 0:P.equipment)===N("equipment")&&(null===P||void 0===P?void 0:P.phone)===N("phone")&&(null===P||void 0===P?void 0:P.photo)===N("photo"),startIcon:(0,_.jsx)(y.Z,{icon:n?"fa-solid:user-edit":"mingcute:user-add-fill"}),children:n?"Save":"Add"})})]})]})})})]})})}},13265:function(n,e,t){t.d(e,{I:function(){return c}});var i=t(15861),a=t(36459),r=t(64687),o=t.n(r),s=t(8785),l=t(92033),d=t(9440),u=(0,s.oM)({name:"image",initialState:{isLoading:!1,error:null},reducers:{startLoading:function(n){n.isLoading=!0},hasError:function(n,e){n.isLoading=!1,n.error=e.payload}}});u.reducer;function c(n){return(0,i.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,d.WI)(u.actions.startLoading()),e.prev=1,e.next=4,l.Z.post("/upload-image",n,{headers:{"Content-Type":"multipart/form-data"}});case 4:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.data);case 8:if(e.prev=8,e.t0=e.catch(1),403!==(null===e.t0||void 0===e.t0?void 0:e.t0.statusCode)){e.next=12;break}return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))}(0,a.Z)(u.actions)},47047:function(n,e,t){t.d(e,{Z:function(){return L}});var i=t(30168),a=t(63366),r=t(87462),o=t(72791),s=t(28182),l=t(52554),d=t(94419);function u(n){return String(n).match(/[\d.\-+]*\s*(.*)/)[1]||""}function c(n){return parseFloat(n)}var h=t(12065),v=t(66934),m=t(31402),p=t(21217);function x(n){return(0,p.Z)("MuiSkeleton",n)}(0,t(75878).Z)("MuiSkeleton",["root","text","rectangular","circular","pulse","wave","withChildren","fitContent","heightAuto"]);var f,g,Z,b,j,w,k,y,q=t(80184),C=["animation","className","component","height","style","variant","width"],S=(0,l.F4)(j||(j=f||(f=(0,i.Z)(["\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.4;\n  }\n\n  100% {\n    opacity: 1;\n  }\n"])))),I=(0,l.F4)(w||(w=g||(g=(0,i.Z)(["\n  0% {\n    transform: translateX(-100%);\n  }\n\n  50% {\n    /* +0.5s of delay between each loop */\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n"])))),_=(0,v.ZP)("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:function(n,e){var t=n.ownerState;return[e.root,e[t.variant],!1!==t.animation&&e[t.animation],t.hasChildren&&e.withChildren,t.hasChildren&&!t.width&&e.fitContent,t.hasChildren&&!t.height&&e.heightAuto]}})((function(n){var e=n.theme,t=n.ownerState,i=u(e.shape.borderRadius)||"px",a=c(e.shape.borderRadius);return(0,r.Z)({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:(0,h.Fq)(e.palette.text.primary,"light"===e.palette.mode?.11:.13),height:"1.2em"},"text"===t.variant&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:"".concat(a).concat(i,"/").concat(Math.round(a/.6*10)/10).concat(i),"&:empty:before":{content:'"\\00a0"'}},"circular"===t.variant&&{borderRadius:"50%"},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})}),(function(n){return"pulse"===n.ownerState.animation&&(0,l.iv)(k||(k=Z||(Z=(0,i.Z)(["\n      animation: "," 1.5s ease-in-out 0.5s infinite;\n    "]))),S)}),(function(n){var e=n.ownerState,t=n.theme;return"wave"===e.animation&&(0,l.iv)(y||(y=b||(b=(0,i.Z)(["\n      position: relative;\n      overflow: hidden;\n\n      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */\n      -webkit-mask-image: -webkit-radial-gradient(white, black);\n\n      &::after {\n        animation: "," 1.6s linear 0.5s infinite;\n        background: linear-gradient(\n          90deg,\n          transparent,\n          ",",\n          transparent\n        );\n        content: '';\n        position: absolute;\n        transform: translateX(-100%); /* Avoid flash during server-side hydration */\n        bottom: 0;\n        left: 0;\n        right: 0;\n        top: 0;\n      }\n    "]))),I,(t.vars||t).palette.action.hover)})),L=o.forwardRef((function(n,e){var t=(0,m.Z)({props:n,name:"MuiSkeleton"}),i=t.animation,o=void 0===i?"pulse":i,l=t.className,u=t.component,c=void 0===u?"span":u,h=t.height,v=t.style,p=t.variant,f=void 0===p?"text":p,g=t.width,Z=(0,a.Z)(t,C),b=(0,r.Z)({},t,{animation:o,component:c,variant:f,hasChildren:Boolean(Z.children)}),j=function(n){var e=n.classes,t=n.variant,i=n.animation,a=n.hasChildren,r=n.width,o=n.height,s={root:["root",t,i,a&&"withChildren",a&&!r&&"fitContent",a&&!o&&"heightAuto"]};return(0,d.Z)(s,x,e)}(b);return(0,q.jsx)(_,(0,r.Z)({as:c,ref:e,className:(0,s.Z)(j.root,l),ownerState:b},Z,{style:(0,r.Z)({width:g,height:h},v)}))}))},484:function(n,e,t){n.exports=t.p+"static/media/profile-background.411dd0025f2cce319399.jpg"},36459:function(n,e,t){function i(n){if(null==n)throw new TypeError("Cannot destructure undefined")}t.d(e,{Z:function(){return i}})}}]);
//# sourceMappingURL=4706.152daa08.chunk.js.map