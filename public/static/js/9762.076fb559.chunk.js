"use strict";(self.webpackChunk_minimal_material_kit_react=self.webpackChunk_minimal_material_kit_react||[]).push([[9762],{54737:function(e,n,t){t.d(n,{Z:function(){return g}});var i=t(1413),a=t(45987),l=t(68870),o=t(20890),r=t(50533),s=t(43504),d=t(93517),u=t(80184),c=["links","activeLast"];function v(e){var n=e.links,t=e.activeLast,r=void 0!==t&&t,s=(0,a.Z)(e,c),v=n[n.length-1].name,p=n.map((function(e){return(0,u.jsx)(h,{link:e},e.name)})),g=n.map((function(e){return(0,u.jsx)("div",{children:e.name!==v?(0,u.jsx)(h,{link:e}):(0,u.jsx)(o.Z,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:v})},e.name)}));return(0,u.jsx)(d.Z,(0,i.Z)((0,i.Z)({separator:(0,u.jsx)(l.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})},s),{},{children:r?p:g}))}function h(e){var n=e.link,t=n.href,i=n.name,a=n.icon;return(0,u.jsxs)(r.Z,{variant:"body2",component:s.rU,to:t||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[a&&(0,u.jsx)(l.Z,{sx:{mr:1,"& svg":{width:20,height:20}},children:a}),i]},i)}var p=["links","action","heading","moreLink","sx"];function g(e){var n=e.links,t=e.action,s=e.heading,d=e.moreLink,c=void 0===d?[]:d,h=e.sx,g=(0,a.Z)(e,p);return(0,u.jsxs)(l.Z,{sx:(0,i.Z)({mb:5},h),children:[(0,u.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,u.jsxs)(l.Z,{sx:{flexGrow:1},children:[(0,u.jsx)(o.Z,{variant:"h4",gutterBottom:!0,children:s}),(0,u.jsx)(v,(0,i.Z)({links:n},g))]}),t&&(0,u.jsx)(l.Z,{sx:{flexShrink:0},children:t})]}),(0,u.jsx)(l.Z,{sx:{mt:2},children:"string"===typeof c?(0,u.jsx)(r.Z,{href:c,target:"_blank",rel:"noopener",variant:"body2",children:c}):c.map((function(e){return(0,u.jsx)(r.Z,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)}))})]})}},24422:function(e,n,t){t.d(n,{VJ:function(){return o},M2:function(){return d},Ti:function(){return s}});var i=t(80184);var a=t(68870),l=t(47047);function o(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.Z,{sx:{mt:3,display:"flex",alignItems:"center"},children:(0,i.jsxs)(a.Z,{sx:{flexGrow:1,ml:2},children:[(0,i.jsx)(l.Z,{variant:"text",height:50}),(0,i.jsx)(l.Z,{variant:"text",height:50}),(0,i.jsx)(l.Z,{variant:"text",height:50}),(0,i.jsx)(l.Z,{variant:"text",height:50}),(0,i.jsx)(l.Z,{variant:"text",height:50})]})})})}var r=t(61889);function s(){return(0,i.jsx)(r.ZP,{container:!0,spacing:1,children:(0,i.jsxs)(r.ZP,{item:!0,xs:12,children:[(0,i.jsx)(l.Z,{variant:"text",height:80}),(0,i.jsx)(l.Z,{variant:"text",height:80}),(0,i.jsx)(l.Z,{variant:"text",height:80}),(0,i.jsx)(l.Z,{variant:"text",height:80}),(0,i.jsx)(l.Z,{variant:"text",height:80})]})})}function d(){return(0,i.jsx)(r.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,i.jsx)(a.Z,{sx:{display:"flex",mt:1.5,alignItems:"center"},children:(0,i.jsx)(l.Z,{variant:"text",sx:{width:"100%",height:60}})})})}},59762:function(e,n,t){t.r(n),t.d(n,{default:function(){return P}});var i=t(1413),a=t(15861),l=t(29439),o=t(64687),r=t.n(o),s=t(77942),d=t(16871),u=t(91614),c=t(61889),v=t(57621),h=t(63466),p=t(7055),g=t(53451),m=t(54737),f=t(86951),x=t(72791),Z=t(61134),b=t(61265),k=t(86446),j=t(68870),w=t(53767),S=t(59860),y=t(17449),C=t(9440),I=t(20890),L=t(32939),T=t(24422),_=t(47733),G=t(484),U=t(13265),V=t(80184),E=[{id:"active",label:"Active",name:"active"},{id:"inactive",label:"Inactive",name:"inactive"}],D=[{id:"hi",label:"\u0939\u093f\u0928\u094d\u0926\u0940",name:"\u0939\u093f\u0928\u094d\u0926\u0940"},{id:"mr",label:"\u092e\u0930\u093e\u0920\u0940",name:"\u092e\u0930\u093e\u0920\u0940"},{id:"en",label:"English",name:"english"}];function P(){var e,n,t,o,P=(0,d.UO)().id,q=(0,d.s0)(),M=(0,f.Ds)().enqueueSnackbar,R=(0,C.I0)(),N=(0,x.useState)({villageId:null}),W=(0,l.Z)(N,2),A=W[0],F=W[1];(0,x.useEffect)((function(){P&&(R((0,y._y)()),R((0,y.Bw)(P))),(0,y.yU)()}),[]);var B=(0,C.v9)((function(e){return e.user})),O=B.statesList,X=B.districtList,K=B.talukList,z=B.villageList,H=B.usersDetails,Y=B.isDetailsLoading,$=s.Ry().shape({name:s.Z_().required("Sevak name is required").matches(/^[^\s].*$/,"First Characters space not allowed."),phoneNumber:s.Z_().required("Phone number is required").matches(/^\d{10}$/,"Only numbers are allowed and limit is 10 digits"),status:s.Z_().required("Status is required"),language:s.Z_().required("Language is required"),selectStates:s.Z_().required("States is required"),selectDistrict:s.Z_(),selectTaluk:s.Z_(),selectVillage:s.Z_(),photo:s.nK()}),J=(0,x.useMemo)((function(){return{name:"",phoneNumber:"",status:"",language:"",selectStates:"",selectDistrict:"",selectTaluk:"",selectVillage:"",photo:""}}),[H]),Q=(0,Z.cI)({resolver:(0,b.X)($),defaultValues:J}),ee=Q.reset,ne=Q.watch,te=Q.setValue,ie=Q.handleSubmit,ae=Q.formState.isSubmitting;(0,x.useEffect)((function(){le()}),[H]);var le=function(){var e=(0,a.Z)(r().mark((function e(){var n,t,a,l,o,s,d,u,c,v,h;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=(0,_.C)("state",null===H||void 0===H?void 0:H.checkUpperGeo),o=(0,_.C)("district",null===H||void 0===H?void 0:H.checkUpperGeo),s=(0,_.C)("taluk",null===H||void 0===H?void 0:H.checkUpperGeo),(0,_.C)("village",null===H||void 0===H?void 0:H.checkUpperGeo),"district"===(null===H||void 0===H||null===(n=H.checkUpperGeo)||void 0===n?void 0:n.entityType),d="village"===(null===H||void 0===H||null===(t=H.checkUpperGeo)||void 0===t?void 0:t.entityType),"taluk"===(null===H||void 0===H||null===(a=H.checkUpperGeo)||void 0===a?void 0:a.entityType),te("name",null===H||void 0===H?void 0:H.name),te("phoneNumber",null===H||void 0===H?void 0:H.phone),te("status",null===H||void 0===H?void 0:H.status),te("language",null===H||void 0===H?void 0:H.language),te("selectStates",(null===l||void 0===l?void 0:l.id)||""),te("photo",(null===H||void 0===H?void 0:H.photo)||""),H&&null!==l&&void 0!==l&&l.id&&((0,y.YV)(null===l||void 0===l?void 0:l.id),F((function(e){return(0,i.Z)((0,i.Z)({},e),{},{villageId:null===l||void 0===l?void 0:l.id})})),H&&null!==o&&void 0!==o&&o.id&&null!==X&&void 0!==X&&X.childEntities?((0,y.sK)(null===o||void 0===o?void 0:o.id),te("selectDistrict",(null===o||void 0===o?void 0:o.id)||""),F((function(e){return(0,i.Z)((0,i.Z)({},e),{},{villageId:null===o||void 0===o?void 0:o.id})})),s&&H&&null!==K&&void 0!==K&&K.childEntities?((0,y.Ub)(null===s||void 0===s?void 0:s.id),te("selectTaluk",(null===s||void 0===s?void 0:s.id)||""),F((function(e){return(0,i.Z)((0,i.Z)({},e),{},{villageId:null===s||void 0===s?void 0:s.id,isLoading:!1})})),d&&H?(te("selectVillage",null===H||void 0===H||null===(u=H.checkUpperGeo)||void 0===u?void 0:u.id),F((function(e){var n;return(0,i.Z)((0,i.Z)({},e),{},{villageId:null===H||void 0===H||null===(n=H.checkUpperGeo)||void 0===n?void 0:n.id,isLoading:!1})}))):(te("selectVillage",null===H||void 0===H||null===(c=H.checkUpperGeo)||void 0===c?void 0:c.id),F((function(e){var n;return(0,i.Z)((0,i.Z)({},e),{},{villageId:null===H||void 0===H||null===(n=H.checkUpperGeo)||void 0===n?void 0:n.id,isLoading:!1})})))):(F((function(e){return(0,i.Z)((0,i.Z)({},e),{},{isLoading:!1})})),te("selectTaluk",(null===H||void 0===H||null===(v=H.checkUpperGeo)||void 0===v?void 0:v.id)||""))):!H||null===l||void 0===l||!l.id||null!==o&&void 0!==o&&o.id||te("selectDistrict",(null===H||void 0===H||null===(h=H.checkUpperGeo)||void 0===h?void 0:h.id)||""));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=(0,x.useCallback)((function(e){var n=e[0];if(n){var t=new FormData;t.append("image",n),R((0,U.I)(t)).then((function(e){200===(null===e||void 0===e?void 0:e.statusCode)&&(M(null===e||void 0===e?void 0:e.message,{variant:"success"}),te("photo",null===e||void 0===e?void 0:e.data))}))}}),[te]),re=function(){var e=(0,a.Z)(r().mark((function e(n){var t,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t={name:null===H||void 0===H?void 0:H.name,phone:null===H||void 0===H?void 0:H.phone,language:null===H||void 0===H?void 0:H.language,status:null===H||void 0===H?void 0:H.status},i={name:null===n||void 0===n?void 0:n.name,phone:null===n||void 0===n?void 0:n.phoneNumber,language:null===n||void 0===n?void 0:n.language,status:null===n||void 0===n?void 0:n.status,villageId:null===A||void 0===A?void 0:A.villageId,photo:null===n||void 0===n?void 0:n.photo},Object.keys(i).forEach((function(e){i[e]===t[e]&&delete i[e]})),P?R((0,y.jN)(i,P)).then((function(e){var n,t;200===(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.statusCode)&&(M(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message,{variant:"success"}),q(p.vB.sevak.list),ee())})):R((0,y.SO)(i)).then((function(e){var n,t;201===(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.statusCode)?(M(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message,{variant:"success"}),q(p.vB.sevak.list),ee()):(q(p.vB.sevak.list),ee())})).catch((function(e){console.log("error")}))}catch(a){console.error(a)}case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return console.log("------\x3e",null===(e=ne("language"))||void 0===e?void 0:e.length),(0,V.jsx)(g.Z,{title:"Create sevak",children:(0,V.jsxs)(u.Z,{maxWidth:"xl",children:[(0,V.jsx)(m.Z,{heading:P?"Edit sevak details":"Add sevak",links:[{name:"Sevak List",href:p.vB.sevak.list},{name:P?"Edit Sevak":"Add Sevak"}]}),(0,V.jsx)(k.RV,{methods:Q,onSubmit:ie(re),children:(0,V.jsx)(c.ZP,{container:!0,spacing:3,children:(0,V.jsxs)(c.ZP,{item:!0,xs:12,children:[(0,V.jsx)(v.Z,{sx:{mb:10,overflow:"visible",position:"relative",display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",padding:2,backgroundImage:"url(".concat(G,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},children:(0,V.jsx)(j.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:(0,V.jsx)(k.Uo,{name:"photo",onDrop:oe,sx:{zIndex:9,mt:5,position:"absolute",bottom:"-60px",width:"200px",height:"200px",borderRadius:"50%",objectFit:"cover",border:"2px solid #e0e0e0",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",cursor:"pointer"}})})}),Y?(0,V.jsx)(v.Z,{sx:{p:3},children:(0,V.jsx)(T.Ti,{})}):(0,V.jsxs)(v.Z,{sx:{p:3,boxShadow:"0 12px 24px rgba(0,0,0,0.18)"},children:[(0,V.jsxs)(j.Z,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:[(0,V.jsx)(k.au,{name:"name",label:"Sevak Name"}),(0,V.jsx)(k.au,{name:"phoneNumber",label:"Phone Number",InputProps:{startAdornment:(0,V.jsx)(h.Z,{position:"start",children:"+91"})}}),(0,V.jsx)(k.Wo,{name:"language",label:"Select Language",placeholder:"Language",value:ne("language"),disabled:!(null===H||void 0===H||!H.phone),options:D}),(0,V.jsx)(k.Wo,{name:"status",label:"Select Status",placeholder:"Status",value:ne("status"),options:E})]}),(0,V.jsx)(I.Z,{variant:"h4",py:2,children:"Assign Location"}),(0,V.jsxs)(j.Z,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[(0,V.jsx)(k.Wo,{name:"selectStates",label:"Select States",placeholder:"States",options:O,value:ne("selectStates"),defaultMessage:"Please Select State",onChange:function(e){F((function(n){return(0,i.Z)((0,i.Z)({},n),{},{villageId:e})})),te("selectDistrict",""),te("selectTaluk",""),te("selectVillage",""),R((0,y.Vc)(null)),(0,y.YV)(e)}}),null!==X&&void 0!==X&&null!==(n=X.childEntities)&&void 0!==n&&n.length?(0,V.jsx)(k.Wo,{name:"selectDistrict",label:"Select District",placeholder:"District",value:ne("selectDistrict"),options:null===X||void 0===X?void 0:X.childEntities,defaultMessage:"Please Select State",onChange:function(e){F((function(n){return(0,i.Z)((0,i.Z)({},n),{},{villageId:e})})),te("selectTaluk",""),te("selectVillage",""),(0,y.sK)(e)}}):"",null!==K&&void 0!==K&&null!==(t=K.childEntities)&&void 0!==t&&t.length?(0,V.jsx)(k.Wo,{name:"selectTaluk",label:"Select Taluk",placeholder:"Taluk",value:ne("selectTaluk"),options:(null===K||void 0===K?void 0:K.childEntities)||[],defaultMessage:"Please Select District",onChange:function(e){F((function(n){return(0,i.Z)((0,i.Z)({},n),{},{villageId:e})})),te("selectVillage",""),(0,y.Ub)(e)}}):"",null!==z&&void 0!==z&&null!==(o=z.childEntities)&&void 0!==o&&o.length?(0,V.jsx)(k.Wo,{name:"selectVillage",label:"Select Village",placeholder:"Village",value:ne("selectVillage"),options:null===z||void 0===z?void 0:z.childEntities,defaultMessage:"Please Select Village",onChange:function(e){F((function(n){return(0,i.Z)((0,i.Z)({},n),{},{villageId:e})}))}}):""]}),(0,V.jsx)(w.Z,{alignItems:"flex-end",sx:{mt:3},children:(0,V.jsx)(S.Z,{type:"submit",variant:"contained",loading:ae,startIcon:(0,V.jsx)(L.Z,{icon:P?"fa-solid:user-edit":"mingcute:user-add-fill"}),children:P?"Save":"Add"})})]})]})})})]})})}},13265:function(e,n,t){t.d(n,{I:function(){return c}});var i=t(15861),a=t(36459),l=t(64687),o=t.n(l),r=t(8785),s=t(92033),d=t(9440),u=(0,r.oM)({name:"image",initialState:{isLoading:!1,error:null},reducers:{startLoading:function(e){e.isLoading=!0},hasError:function(e,n){e.isLoading=!1,e.error=n.payload}}});u.reducer;function c(e){return(0,i.Z)(o().mark((function n(){var t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(0,d.WI)(u.actions.startLoading()),n.prev=1,n.next=4,s.Z.post("/upload-image",e,{headers:{"Content-Type":"multipart/form-data"}});case 4:return t=n.sent,n.abrupt("return",null===t||void 0===t?void 0:t.data);case 8:if(n.prev=8,n.t0=n.catch(1),403!==(null===n.t0||void 0===n.t0?void 0:n.t0.statusCode)){n.next=12;break}return n.abrupt("return",n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,8]])})))}(0,a.Z)(u.actions)},47733:function(e,n,t){t.d(n,{C:function(){return i}});var i=function(e,n){var t;return n?(null===n||void 0===n?void 0:n.entityType)===e?n:null===n||void 0===n||null===(t=n.parents)||void 0===t?void 0:t.find((function(n){return(null===n||void 0===n?void 0:n.entityType)===e})):null}},47047:function(e,n,t){t.d(n,{Z:function(){return _}});var i=t(30168),a=t(63366),l=t(87462),o=t(72791),r=t(28182),s=t(52554),d=t(94419);function u(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function c(e){return parseFloat(e)}var v=t(12065),h=t(66934),p=t(31402),g=t(21217);function m(e){return(0,g.Z)("MuiSkeleton",e)}(0,t(75878).Z)("MuiSkeleton",["root","text","rectangular","circular","pulse","wave","withChildren","fitContent","heightAuto"]);var f,x,Z,b,k,j,w,S,y=t(80184),C=["animation","className","component","height","style","variant","width"],I=(0,s.F4)(k||(k=f||(f=(0,i.Z)(["\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.4;\n  }\n\n  100% {\n    opacity: 1;\n  }\n"])))),L=(0,s.F4)(j||(j=x||(x=(0,i.Z)(["\n  0% {\n    transform: translateX(-100%);\n  }\n\n  50% {\n    /* +0.5s of delay between each loop */\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n"])))),T=(0,h.ZP)("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,n[t.variant],!1!==t.animation&&n[t.animation],t.hasChildren&&n.withChildren,t.hasChildren&&!t.width&&n.fitContent,t.hasChildren&&!t.height&&n.heightAuto]}})((function(e){var n=e.theme,t=e.ownerState,i=u(n.shape.borderRadius)||"px",a=c(n.shape.borderRadius);return(0,l.Z)({display:"block",backgroundColor:n.vars?n.vars.palette.Skeleton.bg:(0,v.Fq)(n.palette.text.primary,"light"===n.palette.mode?.11:.13),height:"1.2em"},"text"===t.variant&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:"".concat(a).concat(i,"/").concat(Math.round(a/.6*10)/10).concat(i),"&:empty:before":{content:'"\\00a0"'}},"circular"===t.variant&&{borderRadius:"50%"},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})}),(function(e){return"pulse"===e.ownerState.animation&&(0,s.iv)(w||(w=Z||(Z=(0,i.Z)(["\n      animation: "," 1.5s ease-in-out 0.5s infinite;\n    "]))),I)}),(function(e){var n=e.ownerState,t=e.theme;return"wave"===n.animation&&(0,s.iv)(S||(S=b||(b=(0,i.Z)(["\n      position: relative;\n      overflow: hidden;\n\n      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */\n      -webkit-mask-image: -webkit-radial-gradient(white, black);\n\n      &::after {\n        animation: "," 1.6s linear 0.5s infinite;\n        background: linear-gradient(\n          90deg,\n          transparent,\n          ",",\n          transparent\n        );\n        content: '';\n        position: absolute;\n        transform: translateX(-100%); /* Avoid flash during server-side hydration */\n        bottom: 0;\n        left: 0;\n        right: 0;\n        top: 0;\n      }\n    "]))),L,(t.vars||t).palette.action.hover)})),_=o.forwardRef((function(e,n){var t=(0,p.Z)({props:e,name:"MuiSkeleton"}),i=t.animation,o=void 0===i?"pulse":i,s=t.className,u=t.component,c=void 0===u?"span":u,v=t.height,h=t.style,g=t.variant,f=void 0===g?"text":g,x=t.width,Z=(0,a.Z)(t,C),b=(0,l.Z)({},t,{animation:o,component:c,variant:f,hasChildren:Boolean(Z.children)}),k=function(e){var n=e.classes,t=e.variant,i=e.animation,a=e.hasChildren,l=e.width,o=e.height,r={root:["root",t,i,a&&"withChildren",a&&!l&&"fitContent",a&&!o&&"heightAuto"]};return(0,d.Z)(r,m,n)}(b);return(0,y.jsx)(T,(0,l.Z)({as:c,ref:n,className:(0,r.Z)(k.root,s),ownerState:b},Z,{style:(0,l.Z)({width:x,height:v},h)}))}))},484:function(e,n,t){e.exports=t.p+"static/media/profile-background.411dd0025f2cce319399.jpg"},36459:function(e,n,t){function i(e){if(null==e)throw new TypeError("Cannot destructure undefined")}t.d(n,{Z:function(){return i}})}}]);
//# sourceMappingURL=9762.076fb559.chunk.js.map